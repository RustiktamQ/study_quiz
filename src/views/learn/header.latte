<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="robots" content="max-snippet:-1, max-image-preview:large, max-video-preview:-1">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="description" content="{$APP_NAME} Dashboard">
      <link rel="stylesheet" href="https://preline.co/assets/css/main.min.css">
      <link rel="stylesheet" href="{$ROOT_URL}css/style.css" media="all">
      <link rel="stylesheet" href="{$ROOT_URL}css/output.css" media="all">
      <!-- Title -->
      <title>{$APP_NAME} - Student's portal</title>
      <!-- Favicon -->
      <link rel="shortcut icon" href="../../favicon.ico">
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   </head>
   <body class="bg-gray-50 ">
      <!-- ========== HEADER ========== -->
      <header class="sticky top-0 inset-x-0 flex flex-wrap md:justify-start md:flex-nowrap z-[48] w-full bg-white border-b text-sm py-2.5 lg:ps-[260px]  ">
         <nav class="px-4 sm:px-6 flex basis-full items-center w-full mx-auto">
            <div class="me-5 lg:me-0 lg:hidden">
               <!-- Logo -->
               <a class="flex-none rounded-md text-xl inline-block font-semibold focus:outline-none focus:opacity-80" href="#" aria-label="Preline">
               {$APP_NAME}
               </a>
               <!-- todo: сделать как в сайдбаре -->
               <!-- End Logo -->
            </div>
            <div class="w-full flex items-center justify-end ms-auto md:justify-between gap-x-1 md:gap-x-3">
               <div class="hidden md:block">
                  <div class="flex flex-col gap-y-4 ml-4 gap-x-0 mt-5 md:flex-row md:justify-center md:items-center md:gap-y-0 md:gap-x-7 md:mt-0">
                     <div>
                        <a class="inline-block text-black hover:text-green-500 focus:outline-none transition focus:text-green-700" href="{$ROOT_URL}learn/start" aria-current="page">Math</a>
                     </div>
                     <div>
                        <a class="inline-block text-black hover:text-green-500 focus:outline-none transition focus:text-green-700" href="{$ROOT_URL}skills">English</a>
                     </div>
                     <div>
                        <a class="inline-block text-black hover:text-green-500 focus:outline-none transition focus:text-green-700" href="{$ROOT_URL}learn/myteacher">Kazakh</a>
                     </div>
                     <div>
                        <a class="inline-block text-black hover:text-green-500 focus:outline-none transition focus:text-green-700" href="{$ROOT_URL}learn/stats">Physics</a>
                     </div>
                     <div>
                        <a class="inline-block text-black hover:text-green-500 focus:outline-none transition focus:text-green-700" href="{$ROOT_URL}learn/awards">Russian</a>
                     </div>
                  </div>
               </div>
            </div>
            <div class="flex flex-row items-center justify-end gap-1">

            <!-- Dropdown -->
            <div class="hs-dropdown [--placement:bottom-right] relative inline-flex mr-2">
               <button id="hs-dropdown-account-2" type="button" 
                        class="hs-dropdown-toggle size-[38px] relative inline-flex transition justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 focus:outline-none disabled:opacity-50 disabled:pointer-events-none" 
                        aria-haspopup="menu" 
                        aria-expanded="false">
                  {if $notifications && $notifications->unreadCount}
                        <span class="absolute -top-1 -right-1 size-3 bg-red-500 border-2 border-white rounded-full"></span>
                  {/if}
                  <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                        <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" color="currentColor"><path d="M2.53 14.77c-.213 1.394.738 2.361 1.902 2.843c4.463 1.85 10.673 1.85 15.136 0c1.164-.482 2.115-1.45 1.902-2.843c-.13-.857-.777-1.57-1.256-2.267c-.627-.924-.689-1.931-.69-3.003C19.525 5.358 16.157 2 12 2S4.475 5.358 4.475 9.5c0 1.072-.062 2.08-.69 3.003c-.478.697-1.124 1.41-1.255 2.267"/><path d="M8 19c.458 1.725 2.076 3 4 3c1.925 0 3.541-1.275 4-3"/></g>
                  </svg>
               </button>

               <div class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 hidden min-w-60 bg-white shadow-md rounded-lg mt-2" 
                     role="menu" 
                     aria-labelledby="hs-dropdown-account-2">
                  <div class="py-3 px-5 bg-gray-100 rounded-t-lg">
                        <p class="text-sm text-gray-500">Notifications</p>
                  </div>
                  
                  <div class="divide-y divide-gray-200">
                        {if $notifications && $notifications->items}
                           {foreach $notifications->items as $notification}
                              <a href="{$notification->link}" 
                                 class="block p-3 hover:bg-gray-50 transition-colors group {if !$notification->isRead}bg-blue-50{/if}"
                                 >
                                    <div class="flex items-start gap-3">
                                       <div class="flex-1">
                                          <p class="text-sm font-medium text-gray-800 group-hover:text-blue-600">
                                                {$notification->message}
                                          </p>
                                          <time class="text-xs text-gray-500 mt-1">
                                                {$notification->createdAt|date:'M j, H:i'}
                                          </time>
                                       </div>
                                       {if !$notification->isRead}
                                          <span class="size-2 bg-blue-500 rounded-full mt-1.5"></span>
                                       {/if}
                                    </div>
                              </a>
                           {/foreach}
                        {else}
                           <div class="p-4 text-center">
                              <p class="text-sm text-gray-500">No notifications</p>
                           </div>
                        {/if}
                  </div>
                  
                  {if $notifications && $notifications->items}
                        <div class="py-2 px-4 bg-gray-50 border-t">
                           <a href="#" class="text-sm font-medium text-blue-600 hover:text-blue-800">
                              View all notifications
                           </a>
                        </div>
                  {/if}
               </div>
            </div>
            <!-- End Dropdown -->

               <!-- Dropdown -->
               <div class="hs-dropdown [--placement:bottom-right] relative inline-flex">
                  <button id="hs-dropdown-account-3" type="button" class="size-[38px] inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-full border border-transparent text-gray-800 focus:outline-none disabled:opacity-50 disabled:pointer-events-none " aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  <img class="shrink-0 size-[38px] rounded-full" src="{$picture}" alt="Avatar">
                  </button>
                  <div class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 hidden min-w-60 bg-white shadow-md rounded-lg mt-2 after:h-4 after:absolute after:-bottom-4 after:start-0 after:w-full before:h-4 before:absolute before:-top-4 before:start-0 before:w-full" role="menu" aria-orientation="vertical" aria-labelledby="hs-dropdown-account">
                     <div class="py-3 px-5 bg-gray-100 rounded-t-lg ">
                        <p class="text-sm text-gray-500 ">Signed in as</p>
                        <p class="text-sm font-medium text-gray-800 ">{$fullname}  </p>
                     </div>
                     <div class="p-1.5 space-y-0.5">
                        <a class="transition flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100" href="{$ROOT_URL}learn/profile">
                           <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                              <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0-8 0M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"/>
                           </svg>
                           Account
                        </a>
                        <a class="transition flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100" href="{$ROOT_URL}learn/profile/settings">
                           <svg class="w-4 h-4" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M15.5 12C15.5 13.933 13.933 15.5 12 15.5C10.067 15.5 8.5 13.933 8.5 12C8.5 10.067 10.067 8.5 12 8.5C13.933 8.5 15.5 10.067 15.5 12Z" stroke="currentColor" stroke-width="1.5" vector-effect="non-scaling-stroke"></path>
                              <path d="M21.011 14.0964C21.5329 13.9557 21.7939 13.8853 21.8969 13.7507C22 13.6162 22 13.3997 22 12.9668V11.0331C22 10.6002 22 10.3837 21.8969 10.2492C21.7938 10.1146 21.5329 10.0442 21.011 9.90352C19.0606 9.37753 17.8399 7.33845 18.3433 5.40081C18.4817 4.86793 18.5509 4.6015 18.4848 4.44523C18.4187 4.28896 18.2291 4.18128 17.8497 3.9659L16.125 2.98667C15.7528 2.77533 15.5667 2.66966 15.3997 2.69216C15.2326 2.71466 15.0442 2.90267 14.6672 3.27867C13.208 4.73442 10.7936 4.73436 9.33434 3.27858C8.95743 2.90257 8.76898 2.71457 8.60193 2.69206C8.43489 2.66956 8.24877 2.77523 7.87653 2.98657L6.15184 3.96581C5.77253 4.18117 5.58287 4.28885 5.51678 4.44509C5.45068 4.60134 5.51987 4.86781 5.65825 5.40074C6.16137 7.33844 4.93972 9.37757 2.98902 9.90354C2.46712 10.0442 2.20617 10.1146 2.10308 10.2491C2 10.3837 2 10.6002 2 11.0331V12.9668C2 13.3997 2 13.6162 2.10308 13.7507C2.20615 13.8853 2.46711 13.9557 2.98902 14.0964C4.9394 14.6224 6.16008 16.6615 5.65672 18.5991C5.51829 19.132 5.44907 19.3984 5.51516 19.5547C5.58126 19.711 5.77092 19.8187 6.15025 20.034L7.87495 21.0133C8.24721 21.2246 8.43334 21.3303 8.6004 21.3078C8.76746 21.2853 8.95588 21.0972 9.33271 20.7212C10.7927 19.2643 13.2088 19.2642 14.6689 20.7211C15.0457 21.0972 15.2341 21.2852 15.4012 21.3077C15.5682 21.3302 15.7544 21.2245 16.1266 21.0132L17.8513 20.0339C18.2307 19.8186 18.4204 19.7109 18.4864 19.5546C18.5525 19.3983 18.4833 19.1319 18.3448 18.599C17.8412 16.6615 19.0609 14.6225 21.011 14.0964Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
                           </svg>
                           Settings
                        </a>
                        <a class="transition flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100" href="{$ROOT_URL}logout">
                           <svg class="w-4 h-4" width="20" height="20" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M7.00033 9H12.8337M12.8337 9L10.3337 11.5M12.8337 9L10.3337 6.5M12.8337 4V3.16667C12.8337 2.72464 12.6581 2.30072 12.3455 1.98816C12.0329 1.67559 11.609 1.5 11.167 1.5H2.83366C2.39163 1.5 1.96771 1.67559 1.65515 1.98816C1.34259 2.30072 1.16699 2.72464 1.16699 3.16667V14.8333C1.16699 15.2754 1.34259 15.6993 1.65515 16.0118C1.96771 16.3244 2.39163 16.5 2.83366 16.5H11.167C11.609 16.5 12.0329 16.3244 12.3455 16.0118C12.6581 15.6993 12.8337 15.2754 12.8337 14.8333V14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                           </svg>
                           Logout
                        </a>
                     </div>
                  </div>
               </div>
               <!-- End Dropdown -->
            </div>
         </nav>
      </header>
   </body>
   